(function(n,t){typeof define=="function"&&(define.amd||define.cmd)?define(function(){return t(n)}):typeof exports=="object"?module.exports=t(n):n.browser=t(n)})(typeof self!="undefined"?self:this,function(n){var r=n||{},t=typeof n.navigator!="undefined"?n.navigator:{},i=function(n,i){var r=t.mimeTypes;for(var u in r)if(r[u][n]==i)return!0;return!1},u=null;return typeof t.userAgentData!="undefined"&&t.userAgentData.getHighEntropyValues(["platformVersion"]).then(function(n){if(t.userAgentData.platform==="Windows"){const t=parseInt(n.platformVersion.split(".")[0]);u=t>=13?11:10}}),function(n){var f=n||t.userAgent||"",e={},o={Trident:f.indexOf("Trident")>-1||f.indexOf("NET CLR")>-1,Presto:f.indexOf("Presto")>-1,WebKit:f.indexOf("AppleWebKit")>-1,Gecko:f.indexOf("Gecko/")>-1,KHTML:f.indexOf("KHTML/")>-1,Safari:f.indexOf("Safari")>-1,Chrome:f.indexOf("Chrome")>-1||f.indexOf("CriOS")>-1,IE:f.indexOf("MSIE")>-1||f.indexOf("Trident")>-1,Edge:f.indexOf("Edge")>-1||f.indexOf("Edg/")>-1||f.indexOf("EdgA")>-1||f.indexOf("EdgiOS")>-1,Firefox:f.indexOf("Firefox")>-1||f.indexOf("FxiOS")>-1,"Firefox Focus":f.indexOf("Focus")>-1,Chromium:f.indexOf("Chromium")>-1,Opera:f.indexOf("Opera")>-1||f.indexOf("OPR")>-1,Vivaldi:f.indexOf("Vivaldi")>-1,Yandex:f.indexOf("YaBrowser")>-1,Brave:t.brave?!0:!1,Arora:f.indexOf("Arora")>-1,Lunascape:f.indexOf("Lunascape")>-1,QupZilla:f.indexOf("QupZilla")>-1,"Coc Coc":f.indexOf("coc_coc_browser")>-1,Kindle:f.indexOf("Kindle")>-1||f.indexOf("Silk/")>-1,Iceweasel:f.indexOf("Iceweasel")>-1,Konqueror:f.indexOf("Konqueror")>-1,Iceape:f.indexOf("Iceape")>-1,SeaMonkey:f.indexOf("SeaMonkey")>-1,Epiphany:f.indexOf("Epiphany")>-1,"360":f.indexOf("QihooBrowser")>-1||f.indexOf("QHBrowser")>-1,"360EE":f.indexOf("360EE")>-1,"360SE":f.indexOf("360SE")>-1,UC:f.indexOf("UCBrowser")>-1||f.indexOf(" UBrowser")>-1||f.indexOf("UCWEB")>-1,QQBrowser:f.indexOf("QQBrowser")>-1,QQ:f.indexOf("QQ/")>-1,Baidu:f.indexOf("Baidu")>-1||f.indexOf("BIDUBrowser")>-1||f.indexOf("baidubrowser")>-1||f.indexOf("baiduboxapp")>-1||f.indexOf("BaiduHD")>-1,Maxthon:f.indexOf("Maxthon")>-1,Sogou:f.indexOf("MetaSr")>-1||f.indexOf("Sogou")>-1,Liebao:f.indexOf("LBBROWSER")>-1||f.indexOf("LieBaoFast")>-1,"2345Explorer":f.indexOf("2345Explorer")>-1||f.indexOf("Mb2345Browser")>-1||f.indexOf("2345chrome")>-1,"115Browser":f.indexOf("115Browser")>-1,TheWorld:f.indexOf("TheWorld")>-1,Quark:f.indexOf("Quark")>-1,Qiyu:f.indexOf("Qiyu")>-1,XiaoMi:f.indexOf("MiuiBrowser")>-1,Huawei:f.indexOf("HuaweiBrowser")>-1||f.indexOf("HUAWEI/")>-1||f.indexOf("HONOR")>-1||f.indexOf("HBPC/")>-1,Vivo:f.indexOf("VivoBrowser")>-1,OPPO:f.indexOf("HeyTapBrowser")>-1,Wechat:f.indexOf("MicroMessenger")>-1,WechatWork:f.indexOf("wxwork/")>-1,Taobao:f.indexOf("AliApp(TB")>-1,Alipay:f.indexOf("AliApp(AP")>-1,Weibo:f.indexOf("Weibo")>-1,Douban:f.indexOf("com.douban.frodo")>-1,Suning:f.indexOf("SNEBUY-APP")>-1,iQiYi:f.indexOf("IqiyiApp")>-1,DingTalk:f.indexOf("DingTalk")>-1,Douyin:f.indexOf("aweme")>-1,Googlebot:f.indexOf("Googlebot")>-1,Baiduspider:f.indexOf("Baiduspider")>-1,Sogouspider:f.match(/Sogou (\S+) Spider/i),Bingbot:f.indexOf("bingbot")>-1,"360Spider":f.indexOf("360Spider")>-1||f.indexOf("HaosouSpider")>-1,Bytespider:f.indexOf("Bytespider")>-1,YisouSpider:f.indexOf("YisouSpider")>-1,YodaoBot:f.indexOf("YodaoBot")>-1,YandexBot:f.indexOf("YandexBot")>-1,Windows:f.indexOf("Windows")>-1,Linux:f.indexOf("Linux")>-1||f.indexOf("X11")>-1,"Mac OS":f.indexOf("Macintosh")>-1,Android:f.indexOf("Android")>-1||f.indexOf("Adr")>-1,HarmonyOS:f.indexOf("HarmonyOS")>-1,Ubuntu:f.indexOf("Ubuntu")>-1,FreeBSD:f.indexOf("FreeBSD")>-1,Debian:f.indexOf("Debian")>-1,"Windows Phone":f.indexOf("IEMobile")>-1||f.indexOf("Windows Phone")>-1,BlackBerry:f.indexOf("BlackBerry")>-1||f.indexOf("RIM")>-1,MeeGo:f.indexOf("MeeGo")>-1,Symbian:f.indexOf("Symbian")>-1,iOS:f.indexOf("like Mac OS X")>-1,"Chrome OS":f.indexOf("CrOS")>-1,WebOS:f.indexOf("hpwOS")>-1,Mobile:f.indexOf("Mobi")>-1||f.indexOf("iPh")>-1||f.indexOf("480")>-1,Tablet:f.indexOf("Tablet")>-1||f.indexOf("Pad")>-1||f.indexOf("Nexus 7")>-1||t.platform==="MacIntel"&&t.maxTouchPoints>1,isWebview:f.indexOf("; wv)")>-1},s=!1,h,c,l,a,y,p,v;r.chrome&&(h=f.replace(/^.*Chrome\/([\d]+).*$/,"$1"),r.chrome.adblock2345||r.chrome.common2345?o["2345Explorer"]=!0:i("type","application/360softmgrplugin")||i("type","application/mozilla-npqihooquicklogin")?s=!0:h>36&&r.showModalDialog?s=!0:h>45&&(s=i("type","application/vnd.chromium.remoting-viewer"),!s&&h>=69&&(s=i("type","application/hwepass2001.installepass2001")||i("type","application/asx"))));o.Mobile?o.Mobile=!(f.indexOf("iPad")>-1):s&&(i("type","application/gameplugin")?o["360SE"]=!0:t&&typeof t.connection!="undefined"&&typeof t.connection.saveData=="undefined"?o["360SE"]=!0:o["360EE"]=!0);o.Baidu&&o.Opera?o.Baidu=!1:o.iOS&&(o.Safari=!0);c={engine:["WebKit","Trident","Gecko","Presto","KHTML"],browser:["Safari","Chrome","Edge","IE","Firefox","Firefox Focus","Chromium","Opera","Vivaldi","Yandex","Brave","Arora","Lunascape","QupZilla","Coc Coc","Kindle","Iceweasel","Konqueror","Iceape","SeaMonkey","Epiphany","XiaoMi","Vivo","OPPO","360","360SE","360EE","UC","QQBrowser","QQ","Huawei","Baidu","Maxthon","Sogou","Liebao","2345Explorer","115Browser","TheWorld","Quark","Qiyu","Wechat","WechatWork","Taobao","Alipay","Weibo","Douban","Suning","iQiYi","DingTalk","Douyin","Googlebot","Baiduspider","Sogouspider","Bingbot","360Spider","Bytespider","YisouSpider","YodaoBot","YandexBot"],system:["Windows","Linux","Mac OS","Android","HarmonyOS","Ubuntu","FreeBSD","Debian","iOS","Windows Phone","BlackBerry","MeeGo","Symbian","Chrome OS","WebOS"],device:["Mobile","Tablet"]};e.device="PC";e.language=function(){var i=t.browserLanguage||t.language,n;return typeof i!="string"?"Unknown language":(n=i.split("-"),n[1]&&(n[1]=n[1].toUpperCase()),n.join("_"))}();for(l in c)for(a=0;a<c[l].length;a++)y=c[l][a],o[y]&&(e[l]=y);return p={Windows:function(){var n=f.replace(/^Mozilla\/\d.0 \(Windows NT ([\d.]+)[;)].*$/,"$1");return{"10":"10","6.4":"10","6.3":"8.1","6.2":"8","6.1":"7","6.0":"Vista","5.2":"XP","5.1":"XP","5.0":"2000"}[n]||n},Android:function(){return f.replace(/^.*Android ([\d.]+);.*$/,"$1")},HarmonyOS:function(){var n=f.replace(/^Mozilla.*Android ([\d.]+)[;)].*$/,"$1");return{"10":"2","12":"3"}[n]||""},iOS:function(){return f.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,".")},Debian:function(){return f.replace(/^.*Debian\/([\d.]+).*$/,"$1")},"Windows Phone":function(){return f.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2")},"Mac OS":function(){return f.replace(/^.*Mac OS X -?([\d_]+).*$/,"$1").replace(/_/g,".")},WebOS:function(){return f.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")}},e.systemVersion="",p[e.system]&&(e.systemVersion=p[e.system](),e.systemVersion==f&&(e.systemVersion="")),e.system=="Windows"&&u&&(e.systemVersion=u),e.platform=t.platform,e.isWebview=o.isWebview,e.isBot=["Googlebot","Baiduspider","Sogouspider","Bingbot","360Spider","Bytespider","YandexBot"].some(function(n){return o[n]}),v={Safari:function(){return f.replace(/^.*Version\/([\d.]+).*$/,"$1")},Chrome:function(){return f.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1")},IE:function(){return f.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1")},Edge:function(){return f.replace(/^.*Edge\/([\d.]+).*$/,"$1").replace(/^.*Edg\/([\d.]+).*$/,"$1").replace(/^.*EdgA\/([\d.]+).*$/,"$1").replace(/^.*EdgiOS\/([\d.]+).*$/,"$1")},Firefox:function(){return f.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1")},"Firefox Focus":function(){return f.replace(/^.*Focus\/([\d.]+).*$/,"$1")},Chromium:function(){return f.replace(/^.*Chromium\/([\d.]+).*$/,"$1")},Opera:function(){return f.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1")},Vivaldi:function(){return f.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1")},Yandex:function(){return f.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1")},Brave:function(){return f.replace(/^.*Chrome\/([\d.]+).*$/,"$1")},Arora:function(){return f.replace(/^.*Arora\/([\d.]+).*$/,"$1")},Lunascape:function(){return f.replace(/^.*Lunascape[\/\s]([\d.]+).*$/,"$1")},QupZilla:function(){return f.replace(/^.*QupZilla[\/\s]([\d.]+).*$/,"$1")},"Coc Coc":function(){return f.replace(/^.*coc_coc_browser\/([\d.]+).*$/,"$1")},Kindle:function(){return f.replace(/^.*Version\/([\d.]+).*$/,"$1")},Iceweasel:function(){return f.replace(/^.*Iceweasel\/([\d.]+).*$/,"$1")},Konqueror:function(){return f.replace(/^.*Konqueror\/([\d.]+).*$/,"$1")},Iceape:function(){return f.replace(/^.*Iceape\/([\d.]+).*$/,"$1")},SeaMonkey:function(){return f.replace(/^.*SeaMonkey\/([\d.]+).*$/,"$1")},Epiphany:function(){return f.replace(/^.*Epiphany\/([\d.]+).*$/,"$1")},"360":function(){return f.replace(/^.*QihooBrowser(HD)?\/([\d.]+).*$/,"$2")},"360SE":function(){var n=f.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"108":"14.0","86":"13.0","78":"12.0","69":"11.0","63":"10.0","55":"9.1","45":"8.1","42":"8.0","31":"7.0","21":"6.3"}[n]||""},"360EE":function(){var n=f.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"95":"21","86":"13.0","78":"12.0","69":"11.0","63":"9.5","55":"9.0","50":"8.7","30":"7.5"}[n]||""},Maxthon:function(){return f.replace(/^.*Maxthon\/([\d.]+).*$/,"$1")},QQBrowser:function(){return f.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1")},QQ:function(){return f.replace(/^.*QQ\/([\d.]+).*$/,"$1")},Baidu:function(){return f.replace(/^.*BIDUBrowser[\s\/]([\d.]+).*$/,"$1").replace(/^.*baiduboxapp\/([\d.]+).*$/,"$1")},UC:function(){return f.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1")},Sogou:function(){return f.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1")},Liebao:function(){var n="",t,i;return f.indexOf("LieBaoFast")>-1&&(n=f.replace(/^.*LieBaoFast\/([\d.]+).*$/,"$1")),t={"57":"6.5","49":"6.0","46":"5.9","42":"5.3","39":"5.2","34":"5.0","29":"4.5","21":"4.0"},i=f.replace(/^.*Chrome\/([\d]+).*$/,"$1"),n||t[i]||""},"2345Explorer":function(){var n=navigator.userAgent.replace(/^.*Chrome\/([\d]+).*$/,"$1");return{"69":"10.0","55":"9.9"}[n]||f.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1").replace(/^.*Mb2345Browser\/([\d.]+).*$/,"$1")},"115Browser":function(){return f.replace(/^.*115Browser\/([\d.]+).*$/,"$1")},TheWorld:function(){return f.replace(/^.*TheWorld ([\d.]+).*$/,"$1")},XiaoMi:function(){return f.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1")},Vivo:function(){return f.replace(/^.*VivoBrowser\/([\d.]+).*$/,"$1")},OPPO:function(){return f.replace(/^.*HeyTapBrowser\/([\d.]+).*$/,"$1")},Quark:function(){return f.replace(/^.*Quark\/([\d.]+).*$/,"$1")},Qiyu:function(){return f.replace(/^.*Qiyu\/([\d.]+).*$/,"$1")},Wechat:function(){return f.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1")},WechatWork:function(){return f.replace(/^.*wxwork\/([\d.]+).*$/,"$1")},Taobao:function(){return f.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1")},Alipay:function(){return f.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1")},Weibo:function(){return f.replace(/^.*weibo__([\d.]+).*$/,"$1")},Douban:function(){return f.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1")},Suning:function(){return f.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1")},iQiYi:function(){return f.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")},DingTalk:function(){return f.replace(/^.*DingTalk\/([\d.]+).*$/,"$1")},Douyin:function(){return f.replace(/^.*app_version\/([\d.]+).*$/,"$1")},Huawei:function(){return f.replace(/^.*Version\/([\d.]+).*$/,"$1").replace(/^.*HuaweiBrowser\/([\d.]+).*$/,"$1").replace(/^.*HBPC\/([\d.]+).*$/,"$1")},Googlebot:function(){return f.replace(/^.*Googlebot\/([\d.]+).*$/,"$1")},Baiduspider:function(){return f.replace(/^.*Baiduspider(-render)?\/([\d.]+).*$/,"$1")},Sogouspider:function(){return f.replace(/^.*Sogou (\S+) Spider\/([\d.]+).*$/i,"$2")},Bingbot:function(){return f.replace(/^.*bingbot\/([\d.]+).*$/,"$1")},"360Spider":function(){return""},Bytespider:function(){return""},YisouSpider:function(){return f.replace(/^.*YisouSpider\/([\d.]+).*$/,"$1")},YodaoBot:function(){return f.replace(/^.*YodaoBot\/([\d.]+).*$/,"$1")},YandexBot:function(){return f.replace(/^.*YandexBot\/([\d.]+).*$/,"$1")}},e.version="",v[e.browser]&&(e.version=v[e.browser](),e.version==f&&(e.version="")),e.browser=="Chrome"&&f.match(/\S+Browser/)&&(e.browser=f.match(/\S+Browser/)[0],e.version=f.replace(/^.*Browser\/([\d.]+).*$/,"$1")),e.browser=="Edge"?e.engine=parseInt(e.version)>75?"Blink":"EdgeHTML":o.Chrome&&e.engine=="WebKit"&&parseInt(v.Chrome())>27?e.engine="Blink":e.browser=="Opera"&&parseInt(e.version)>12?e.engine="Blink":e.browser=="Yandex"&&(e.engine="Blink"),e}}),function(n){function r(t){return this.each(function(){var u=n(this),r=u.data(i.DATA_KEY),f=typeof t=="object"&&t;r?r.update(f):u.data(i.DATA_KEY,r=new i(this,f))})}var i=function(t,i){this.$element=n(t);this.options=n.extend({},i);this.init()},t;i.VERSION="5.1.0";i.Author="argo@163.com";i.DATA_KEY="lgb.SliderCaptcha";t=i.prototype;t.init=function(){this.initDOM();this.initImg();this.bindEvents()};t.initDOM=function(){var u=this.$element.find("canvas:first")[0].getContext("2d"),t=this.$element.find("canvas:last")[0],f=t.getContext("2d"),e=this.$element.find(".captcha-load"),i=this.$element.find(".captcha-footer"),o=i.find(".captcha-bar-bg"),s=this.$element.find(".captcha-bar"),r=this.$element.find(".captcha-bar-text"),h=this.$element.find(".captcha-refresh"),c=r.attr("data-text");n.extend(this,{canvas:u,block:t,bar:f,$load:e,$footer:i,$barLeft:o,$slider:s,$barText:r,$refresh:h,barText:c})};t.initImg=function(){var i=function(n,t){var i=this.options.sideLength,f=this.options.diameter,e=Math.PI,r=this.options.offsetX,u=this.options.offsetY;n.beginPath();n.moveTo(r,u);n.arc(r+i/2,u-f+2,f,.72*e,2.26*e);n.lineTo(r+i,u);n.arc(r+i+f-2,u+i/2,f,1.21*e,2.78*e);n.lineTo(r+i,u+i);n.lineTo(r,u+i);n.arc(r+f-2,u+i/2,f+.4,2.76*e,1.24*e,!0);n.lineTo(r,u);n.lineWidth=2;n.fillStyle="rgba(255, 255, 255, 0.7)";n.strokeStyle="rgba(255, 255, 255, 0.7)";n.stroke();n[t]();n.globalCompositeOperation="destination-over"},t=new Image,n;t.src=this.options.imageUrl;n=this;t.onload=function(){i.call(n,n.canvas,"fill");i.call(n,n.bar,"clip");n.canvas.drawImage(t,0,0,n.options.width,n.options.height);n.bar.drawImage(t,0,0,n.options.width,n.options.height);var r=n.options.offsetY-n.options.diameter*2-1,u=n.bar.getImageData(n.options.offsetX-3,r,n.options.barWidth,n.options.barWidth);n.block.width=n.options.barWidth;n.bar.putImageData(u,0,r)};t.onerror=function(){n.$load.text($load.attr("data-failed")).addClass("text-danger")}};t.bindEvents=function(){var n=this,t=0,i=0,r=[];this.$slider.drag(function(r){n.$barText.addClass("d-none");t=r.clientX||r.touches[0].clientX;i=r.clientY||r.touches[0].clientY},function(u){var o=u.clientX||u.touches[0].clientX,s=u.clientY||u.touches[0].clientY,f=o-t,h=s-i,e;if(f<0||f+40>n.options.width)return!1;n.$slider.css({left:f-1+"px"});e=(n.options.width-60)/(n.options.width-40)*f;n.block.style.left=e+"px";n.$footer.addClass("is-move");n.$barLeft.css({width:f+4+"px"});r.push(Math.round(h))},function(i){var f=i.clientX||i.changedTouches[0].clientX,u;n.$footer.removeClass("is-move");u=Math.ceil((n.options.width-60)/(n.options.width-40)*(f-t)+3);n.verify(u,r)});this.$refresh.on("click",function(){n.options.barText=n.$barText.attr("data-text")})};t.verify=function(n,t){var r=this.options.remoteObj.obj,u=this.options.remoteObj.method,i=this;r.invokeMethodAsync(u,n,t).then(function(n){n?(i.$footer.addClass("is-valid"),i.options.barText=i.$barText.attr("data-text")):(i.$footer.addClass("is-invalid"),setTimeout(function(){i.$refresh.trigger("click");i.options.barText=i.$barText.attr("data-try")},1e3))})};t.update=function(t){n.extend(this.options,t);this.resetCanvas();this.initImg();this.resetBar()};t.resetCanvas=function(){this.canvas.clearRect(0,0,this.options.width,this.options.height);this.bar.clearRect(0,0,this.options.width,this.options.height);this.block.width=this.options.width;this.block.style.left=0;this.$load.text(this.$load.attr("data-load")).removeClass("text-danger")};t.resetBar=function(){this.$footer.removeClass("is-invalid is-valid");this.$barText.text(this.options.barText).removeClass("d-none");this.$slider.css({left:"0px"});this.$barLeft.css({width:"0px"})};n.fn.sliderCaptcha=r;n.fn.sliderCaptcha.Constructor=i;n.extend({captcha:function(t,i,r,u){u.remoteObj={obj:i,method:r};n(t).sliderCaptcha(u)}})}(jQuery),function(n){n.isFunction(Date.prototype.format)||(Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));/(E+)/.test(n)&&(n=n.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()]));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length===1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n});n.browser={versions:function(){var n=navigator.userAgent;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")===-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1,iPod:n.indexOf("iPod")>-1,iPad:n.indexOf("iPad")>-1,mac:n.indexOf("Macintosh")>-1,webApp:n.indexOf("Safari")===-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]==n)return t;return-1};Array.prototype.remove=function(n){var t=this.indexOf(n);t>-1&&this.splice(t,1)};n.extend({format:function(t,i){return i===undefined||i===null?null:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)},getUID:function(n){n||(n="b");do n+=~~(Math.random()*1e6);while(document.getElementById(n));return n},webClient:function(t,i,r){var u={},f=new Browser;u.Browser=f.browser+" "+f.version;u.Device=f.device;u.Language=f.language;u.Engine=f.engine;u.UserAgent=navigator.userAgent;n.ajax({type:"GET",url:i,success:function(n){u.Os=f.os+" "+f.osVersion;t.invokeMethodAsync(r,n.Id,n.Ip,u.Os,u.Browser,u.Device,u.Language,u.Engine,u.UserAgent)},error:function(){console.error("Please add UseBootstrapBlazor middleware");t.invokeMethodAsync(r,"","",u.Os,u.Browser,u.Device,u.Language,u.Engine,u.UserAgent)}})}});n.fn.extend({drag:function(t,i,r){var u=n(this),o=function(i){i.preventDefault();i.stopPropagation();document.addEventListener("mousemove",f);document.addEventListener("touchmove",f);document.addEventListener("mouseup",e);document.addEventListener("touchend",e);n.isFunction(t)&&t.call(u,i)},f=function(t){t.touches&&t.touches.length>1||n.isFunction(i)&&i.call(u,t)},e=function(t){n.isFunction(r)&&r.call(u,t);window.setTimeout(function(){document.removeEventListener("mousemove",f);document.removeEventListener("touchmove",f);document.removeEventListener("mouseup",e);document.removeEventListener("touchend",e)},100)};u.on("mousedown",o);u.on("touchstart",o)}});var t=function(n,t,i){if(i||(i=100),window[n])t();else var r=window.setInterval(function(){!window[n]||(window.clearInterval(r),t())},i)},i=function(n){const i=[...document.getElementsByTagName("script")];var t=i.filter(function(t){return t.src.indexOf(n)>-1});t.length===0&&(t=document.createElement("script"),t.setAttribute("src",n),document.body.appendChild(t))},r=function(n){var i,t;const r=[...document.getElementsByTagName("script")];for(i=r.filter(function(t){return t.src.indexOf(n)>-1}),t=0;t<i.length;t++)document.body.removeChild(i[t])},u=function(n){const i=[...document.getElementsByTagName("link")];var t=i.filter(function(t){return t.href.indexOf(n)>-1});t.length===0&&(t=document.createElement("link"),t.setAttribute("href",n),t.setAttribute("rel","stylesheet"),document.getElementsByTagName("head")[0].appendChild(t))},f=function(){var t,n;const i=[...document.getElementsByTagName("link")];for(t=i.filter(function(n){return n.href.indexOf(content)>-1}),n=0;n<t.length;n++)document.getElementsByTagName("head")[0].removeChild(t[n])};window.BootstrapBlazorModules={load:t,addScript:i,removeScript:r,addLink:u,removeLink:f}}(jQuery),function(n){function i(i){return this.each(function(){var r=n(this),u=r.data(t.DATA_KEY),f=typeof i=="object"&&i;u||r.data(t.DATA_KEY,u=new t(this,f))})}var t=function(t,i){this.$element=n(t);var u=this._getColSpan(this.$element),f=this.$element.data("type"),r=parseInt(this.$element.data("items"));isNaN(r)&&(r=12);this.options=n.extend({rowType:f,itemsPerRow:r,colSpan:u},i);this.layout()};t.VERSION="5.1.0";t.Author="argo@163.com";t.DATA_KEY="lgb.grid";n.extend(t.prototype,{layout:function(){this._layout_column(null);this.$element.removeClass("d-none")},_layout_column:function(t){var e=this.$element,o=this.options.rowType,s=this.options.itemsPerRow,f=!1,i=null,r=this,u=n('<div class="row g-3"><\/div>');o==="inline"&&u.addClass("form-inline");e.children().each(function(e,o){var s=n(o),c=s.data("toggle")==="row",h=r._getColSpan(s);c?n("<div><\/div>").addClass(r._calc(h)).appendTo(u).append(s):(f=s.prop("tagName")==="LABEL",f?(i===null&&(i=n("<div><\/div>").addClass(r._calc(h))),i.append(s)):(f=!1,i==null&&(i=n("<div><\/div>").addClass(r._calc(h))),i.append(s),t==null?i.appendTo(u):i.appendTo(t),i=null))});t==null&&e.append(u)},_layout_parent_row:function(){var t=this.$element.data("target"),i=n('[data-uid="'+t+'"]'),r=n('<div class="row"><\/div>').appendTo(i);this._layout_column(r)},_calc:function(n){var t=this.options.itemsPerRow,i;return n>0&&(t=t*n),i="col-12",t!==12&&(i="col-12 col-sm-"+t),i},_getColSpan:function(n){var t=parseInt(n.data("colspan"));return isNaN(t)&&(t=0),t}});n.fn.grid=i;n.fn.grid.Constructor=t}(jQuery),function(n){function r(i){return this.each(function(){var u=n(this),r=u.data(t.DATA_KEY),f=typeof i=="object"&&i;r||u.data(t.DATA_KEY,r=new t(this,f));typeof i=="string"&&/active/.test(i)&&r[i].apply(r)})}var t=function(t,i){this.$element=n(t);this.$header=this.$element.children(".tabs-header");this.$wrap=this.$header.children(".tabs-nav-wrap");this.$scroll=this.$wrap.children(".tabs-nav-scroll");this.$tab=this.$scroll.children(".tabs-nav");this.options=n.extend({},i);this.init()},i;t.VERSION="5.1.0";t.Author="argo@163.com";t.DATA_KEY="lgb.Tab";i=t.prototype;i.init=function(){var t=this;n(window).on("resize",function(){t.resize()});this.active()};i.fixSize=function(){var n=this.$element.height(),t=this.$element.width();this.$element.css({height:n+"px",width:t+"px"})};i.resize=function(){var n,t,i,r,u;this.vertical=this.$element.hasClass("tabs-left")||this.$element.hasClass("tabs-right");this.horizontal=this.$element.hasClass("tabs-top")||this.$element.hasClass("tabs-bottom");n=this.$tab.find(".tabs-item:last");n.length>0&&(this.vertical?(this.$wrap.css({height:this.$element.height()+"px"}),t=this.$tab.height(),i=n.position().top+n.outerHeight(),i<t?this.$wrap.removeClass("is-scrollable"):this.$wrap.addClass("is-scrollable")):(this.$wrap.removeAttr("style"),r=this.$tab.width(),u=n.position().left+n.outerWidth(),u<r?this.$wrap.removeClass("is-scrollable"):this.$wrap.addClass("is-scrollable")))};i.active=function(){var r,n,f,o,c,l;if(this.resize(),r=this.$tab.children(".tabs-active-bar"),n=this.$tab.children(".tabs-item.active"),n.length!==0)if(this.vertical){var u=n.position().top,a=u+n.outerHeight(),t=this.$scroll.scrollTop(),v=this.$scroll.outerHeight(),s=a-t-v;s>0?this.$scroll.scrollTop(t+s):(f=u-t,f<0&&this.$scroll.scrollTop(t+f));r.css({width:"2px",transform:"translateY("+u+"px)"})}else{var e=n.position().left,y=e+n.outerWidth(),i=this.$scroll.scrollLeft(),p=this.$scroll.width(),h=y-i-p;h>0?this.$scroll.scrollLeft(i+h):(o=e-i,o<0&&this.$scroll.scrollLeft(i+o));c=n.width();l=e+parseInt(n.css("paddingLeft"));r.css({width:c+"px",transform:"translateX("+l+"px)"})}};n.fn.lgbTab=r;n.fn.lgbTab.Constructor=t}(jQuery),function(n){n.extend({bb_camera:function(t,i,r,u,f,e){var o=n(t),h=function(n,t){n.pause();n.srcObject=null;t.stop()},c,s;if(r==="stop"){c=o.find("video")[0];s=o.data("bb_video_track");s&&h(c,s);return}navigator.mediaDevices.enumerateDevices().then(function(t){var l=t.filter(function(n){return n.kind==="videoinput"}),r,s,a,c;i.invokeMethodAsync("InitDevices",l).then(()=>{u&&l.length>0&&o.find('button[data-method="play"]').trigger("click")});r=o.find("video")[0];s=o.find("canvas")[0];s.width=f;s.height=e;a=s.getContext("2d");o.on("click","button[data-method]",async function(){var l=n(this).attr("data-method"),t,v,u;if(l==="play"){var w=n(this).attr("data-camera"),y=o.find(".dropdown-item.active").attr("data-val"),p={video:{facingMode:w,width:f,height:e},audio:!1};y!==""&&(p.video.deviceId={exact:y});navigator.mediaDevices.getUserMedia(p).then(n=>{r.srcObject=n,r.play(),c=n.getTracks()[0],o.data("bb_video_track",c),i.invokeMethodAsync("Start")}).catch(n=>{console.log(n),i.invokeMethodAsync("GetError",n.message)})}else if(l==="stop")h(r,c),i.invokeMethodAsync("Stop");else if(l==="capture"){for(a.drawImage(r,0,0,f,e),t=s.toDataURL(),v=30720;t.length>v;)u=t.substr(0,v),console.log(u),await i.invokeMethodAsync("Capture",u),t=t.substr(u.length);t.length>0&&await i.invokeMethodAsync("Capture",t);await i.invokeMethodAsync("Capture","__BB__%END%__BB__")}})})}})}(jQuery),function(n){n.extend({bb_reconnect:function(){var t=window.setInterval(function(){var i=n("#components-reconnect-modal"),r;if(i.length>0&&(r=i.attr("class"),r==="components-reconnect-show")){window.clearInterval(t);async function n(){await fetch("");location.reload()}n();setInterval(n,5e3)}},2e3)}})}(jQuery),function(n){n.extend({bb_transition:function(t,i,r){n(t).on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oAnimationEnd",function(){i.invokeMethodAsync(r)})}})}(jQuery),function(n){n.extend({bb_autoScrollItem:function(t,i){var s=n(t),r=s.find(".dropdown-menu"),e=parseInt(r.css("max-height").replace("px",""))/2,u=r.children("li:first").outerHeight(),h=u*i,f=Math.floor(e/u),o;r.children().removeClass("active");o=r.children().length;i<o&&r.children()[i].classList.add("active");h>e?r.scrollTop(u*(i>f?i-f:i)):i<=f&&r.scrollTop(0)},bb_composition:function(t,i,r){var u=!1,f=n(t);f.on("compositionstart",function(){u=!0});f.on("compositionend",function(){u=!1});f.on("input",function(n){u&&(n.stopPropagation(),n.preventDefault(),setTimeout(function(){u||i.invokeMethodAsync(r,f.val())},15))})},bb_setDebounce:function(t,i){var f=n(t),u;let r;u=["ArrowUp","ArrowDown","Escape","Enter"];f.on("keyup",function(n){u.indexOf(n.key)<1&&r?(clearTimeout(r),n.stopPropagation(),r=setTimeout(function(){r=null;n.target.dispatchEvent(n.originalEvent)},i)):r=setTimeout(function(){},i)})}})}(jQuery),function(){$.extend({bb_cascader_hide:function(n){const t=document.getElementById(n),i=bootstrap.Dropdown.getInstance(t);i.hide()}})}(),function(n){n.extend({bb_input:function(t,i,r,u,f,e){var o=n(t);o.on("keyup",function(n){r&&n.key==="Enter"?i.invokeMethodAsync(u,o.val()):f&&n.key==="Escape"&&i.invokeMethodAsync(e)})},bb_input_selectAll_focus:function(t){var i=n(t);i.on("focus",function(){n(this).select()})},bb_input_selectAll_enter:function(t){var i=n(t);i.on("keyup",function(t){t.key==="Enter"&&n(this).select()})},bb_input_selectAll:function(t){n(t).select()}})}(jQuery),function(n){var u=function(t){var i=this;t!==undefined?i.prevValues[t]=n(n(i).find(".ipv4-cell")[t]).val():n(i).find(".ipv4-cell").each(function(t,r){i.prevValues[t]=n(r).val()})},i=function(t){var i=this;t!==undefined?n(n(i).find(".ipv4-cell")[t]).val(i.prevValues[t]):n(i).find(".ipv4-cell").each(function(t,r){n(r).val(i.prevValues)})},t=function(t){var i=this;t===undefined&&t<0&&t>3||n(n(i).find(".ipv4-cell")[t]).focus()},f=function(n){if(typeof n!="string")return!1;var t=n.split(".");return t.length!==4?!1:t.reduce(function(n,t){return n===!1||t.length===0?!1:Number(t)>=0&&Number(t)<=255?!0:!1},!0)},e=function(){var t="";return this.find(".ipv4-cell").each(function(i,r){t+=i==0?n(r).val():"."+n(r).val()}),t},r=function(){var n=this,t,i;if("selectionStart"in n)return n.selectionStart;if(document.selection)return n.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-i;throw new Error("cell is not an input");};n.extend({bb_ipv4_input:function(f){var e=n(f);f.prevValues=[];e.find(".ipv4-cell").focus(function(){n(this).select();e.toggleClass("selected",!0)});e.find(".ipv4-cell").focusout(function(){e.toggleClass("selected",!1)});e.find(".ipv4-cell").each(function(e,o){n(o).keydown(function(i){i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105?u.call(f,e):i.keyCode==37||i.keyCode==39?i.keyCode==37&&r.call(o)===0?(t.call(f,e-1),i.preventDefault()):i.keyCode==39&&r.call(o)===n(o).val().length&&(t.call(f,e+1),i.preventDefault()):i.keyCode==9||i.keyCode==8||i.keyCode==46||i.preventDefault()});n(o).keyup(function(r){var u,s,o;(r.keyCode>=48&&r.keyCode<=57||r.keyCode>=96&&r.keyCode<=105)&&(u=n(this).val(),s=Number(u),s>255?i.call(f,e):u.length>1&&u[0]==="0"?i.call(f,e):u.length===3&&t.call(f,e+1));r.key==="Backspace"&&n(this).val()===""&&(n(this).val("0"),o=e-1,o>-1?t.call(f,o):t.call(f,0));r.key==="."&&t.call(f,e+1);r.key==="ArrowRight"&&t.call(f,e+1);r.key==="ArrowLeft"&&t.call(f,e-1)})})}})}(jQuery),function(n){var e=function(t){var i=this;t!==undefined?i.prevValues[t]=n(n(i).find(".ipv4-cell")[t]).val():n(i).find(".ipv4-cell").each(function(t,r){i.prevValues[t]=n(r).val()})},i=function(t){var i=this;t!==undefined?n(n(i).find(".ipv4-cell")[t]).val(i.prevValues[t]):n(i).find(".ipv4-cell").each(function(t,r){n(r).val(i.prevValues)})},t=function(t){var i=this;t===undefined&&t<0&&t>3||n(n(i).find(".ipv4-cell")[t]).focus()},r=function(n){if(typeof n!="string")return!1;var t=n.split(".");return t.length!==4?!1:t.reduce(function(n,t){return n===!1||t.length===0?!1:Number(t)>=0&&Number(t)<=255?!0:!1},!0)},u=function(){var t="";return this.find(".ipv4-cell").each(function(i,r){t+=i==0?n(r).val():"."+n(r).val()}),t},f=function(){var n=this,t,i;if("selectionStart"in n)return n.selectionStart;if(document.selection)return n.focus(),t=document.selection.createRange(),i=document.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-i;throw new Error("cell is not an input");};n.fn.ipv4_input=function(o,s){var h,c,a,l;if(this.each(function(){if(!n(this).hasClass("ipv4-input")){var r=this;r.prevValues=[];n(r).toggleClass("ipv4-input",!0);n(r).html('<input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" /><label class="ipv4-dot">.<\/label><input type="text" class="ipv4-cell" />');n(this).find(".ipv4-cell").focus(function(){n(this).select();n(r).toggleClass("selected",!0)});n(this).find(".ipv4-cell").focusout(function(){n(r).toggleClass("selected",!1)});n(this).find(".ipv4-cell").each(function(u,o){n(o).keydown(function(i){i.keyCode>=48&&i.keyCode<=57||i.keyCode>=96&&i.keyCode<=105?e.call(r,u):i.keyCode==37||i.keyCode==39?i.keyCode==37&&f.call(o)===0?(t.call(r,u-1),i.preventDefault()):i.keyCode==39&&f.call(o)===n(o).val().length&&(t.call(r,u+1),i.preventDefault()):i.keyCode!=9&&i.keyCode!=8&&i.keyCode!=46&&i.preventDefault()});n(o).keyup(function(f){if(f.keyCode>=48&&f.keyCode<=57||f.keyCode>=96&&f.keyCode<=105){var e=n(this).val(),o=Number(e);o>255?i.call(r,u):e.length>1&&e[0]==="0"?i.call(r,u):e.length===3&&t.call(r,u+1)}})})}}),h=function(t,i){if(t=="rwd"&&(i===undefined?this.toggleClass("rwd"):this.toggleClass("rwd",i)),t=="value"){if(i===undefined)return u.call(this);if(!r(i))throw new Error("invalid ip address");var f=i.split(".");this.find(".ipv4-cell").each(function(t,i){n(i).val(f[t])})}return t=="valid"?r(u.call(this)):(t=="clear"&&this.find(".ipv4-cell").each(function(t,i){n(i).val("")}),this)},c=this,n.type(o)==="object"){a=o;for(l in a)h.call(this,l,o[l])}else c=h.call(this,o,s);return c}}(jQuery),function(n){n.extend({bb_setTitle:function(n){document.title=n}})}(jQuery),function(n){n.extend({bb_collapse:function(t){var i=n(t),r=null;i.hasClass("is-accordion")&&(r="["+t.getAttributeNames().pop()+"]");n.each(i.children(".accordion-item"),function(){var u=n(this),i=u.children(".accordion-collapse"),t=i.attr("id"),f;t||(t=n.getUID(),i.attr("id",t),r!=null&&i.attr("data-bs-parent",r),f=u.find('[data-bs-toggle="collapse"]'),f.attr("data-bs-target","#"+t).attr("aria-controls",t))});i.find(".tree .tree-item > .fa").on("click",function(){var t=n(this).parent();t.find('[data-bs-toggle="collapse"]').trigger("click")});if(i.parent().hasClass("menu"))i.on("click",".nav-link:not(.collapse)",function(){var r=n(this),t;for(i.find(".active").removeClass("active"),r.addClass("active"),t=r.closest(".accordion");t.length>0;)t.children(".accordion-header").find(".nav-link").addClass("active"),t=t.parent().closest(".accordion")})}})}(jQuery),function(n){n.extend({bb_row:function(t){var i=n(t);i.grid()}})}(jQuery),function(n){n.extend({bb_tree:function(t){var i=n(t);i.find(".tree-content").hover(function(){n(this).parent().addClass("hover")},function(){n(this).parent().removeClass("hover")});i.on("click",".tree-node",function(){var i=n(this),r=i.prev(),t=r.find('[type="radio"]');t.attr("disabeld")!=="disabled"&&t.trigger("click")})}})}(jQuery),function(n){n.extend({bb_tree_view:function(t){var i=n(t);i.find(".tree-content").hover(function(){n(this).parent().addClass("hover")},function(){n(this).parent().removeClass("hover")});i.on("click",".tree-node",function(){var i=n(this),r=i.prev(),t=r.find('[type="radio"]');t.attr("disabeld")!=="disabled"&&t.trigger("click")})}})}(jQuery),function(n){n.extend({bb_message:function(t,i,r){window.Messages||(window.Messages=[]);Messages.push(t);var u=n(t),e=u.attr("data-autohide")==="true",o=parseInt(u.attr("data-delay")),f=null,s=window.setTimeout(function(){window.clearTimeout(s);e&&(f=window.setTimeout(function(){window.clearTimeout(f);u.close()},o));u.addClass("show")},50);u.close=function(){f!=null&&window.clearTimeout(f);u.removeClass("show");var n=window.setTimeout(function(){window.clearTimeout(n);Messages.remove(t);Messages.length===0&&i.invokeMethodAsync(r)},500)};u.on("click",".btn-close",function(n){n.preventDefault();n.stopPropagation();u.close()})}})}(jQuery),function(n){n.extend({bb_notify_checkPermission:function(n,t,i){(window.Notification||navigator.mozNotification)&&window.FileReader&&window.history.pushState?Notification.permission==="granted"?n!==null&&t!==""&&n.invokeMethodAsync(t,!0):i&&(Notification.permission!=="denied"||Notification.permission==="default")&&Notification.requestPermission(function(i){var r=i==="granted";n!==null&&t!==""&&n.invokeMethodAsync(t,r)}):(console.warn("Your browser does not support all features of this API"),n!==null&&t!==""&&n.invokeMethodAsync(t,!1))},bb_notify_display:function(t,i,r){var f=!1,e,u,o;return n.bb_notify_checkPermission(null,null,!0),r.title!==null&&(e=r.onClick,u={},r.message!==null&&(u.body=r.message.substr(0,250)),r.icon!==null&&(u.icon=r.icon),r.silent!==null&&(u.silent=r.silent),r.sound!==null&&(u.sound=r.sound),o=new Notification(r.title.substr(0,100),u),t!==null&&e!==null&&(o.onclick=function(n){n.preventDefault();t.invokeMethodAsync(e)}),f=!0),t!==null&&i!==null&&t.invokeMethodAsync(i,f),f}})}(jQuery),function(n){n.extend({bb_layout:function(t,i){if(i==="dispose"){n(window).off("resize");return}var r=function(){var r=n(window).width();t.invokeMethodAsync(i,r)};n(".layout-header").find('[data-bs-toggle="tooltip"]').tooltip();r();n(window).on("resize",function(){r()})}})}(jQuery),function(n){n.extend({bb_split:function(t){var i=n(t),f=i.innerWidth(),e=i.innerHeight(),u=0,r=0,o=0,s=0,h=!i.children().hasClass("is-horizontal");i.children().children(".split-bar").drag(function(n){f=i.innerWidth();e=i.innerHeight();h?(s=n.clientY||n.touches[0].clientY,u=i.children().children(".split-left").innerHeight()*100/e):(o=n.clientX||n.touches[0].clientX,u=i.children().children(".split-left").innerWidth()*100/f);i.toggleClass("dragging")},function(n){var t,c;h?(t=n.clientY||n.changedTouches[0].clientY,r=Math.ceil((t-s)*100/e)+u):(c=n.clientX||n.changedTouches[0].clientX,r=Math.ceil((c-o)*100/f)+u);r<=0&&(r=0);r>=100&&(r=100);i.children().children(".split-left").css({"flex-basis":r.toString()+"%"});i.children().children(".split-right").css({"flex-basis":(100-r).toString()+"%"});i.attr("data-split",r)},function(){i.toggleClass("dragging")})}})}(jQuery),function(n){n.extend({bb_gotop:function(t,i){var r=n(t),u=r.tooltip();r.on("click",function(t){t.preventDefault();n(i||window).scrollTop(0);u.tooltip("hide")})}})}(jQuery),function(n){n.extend({bb_tab:function(t){var i=n(t),r=window.setInterval(function(){i.is(":visible")&&(window.clearInterval(r),i.lgbTab("active"))},200)}})}(jQuery),function(n){Number.prototype.toRadians=function(){return this*Math.PI/180};n.extend({bb_geo_distance:function(n,t,i,r){var u=(i-n).toRadians(),f=(r-t).toRadians();n=n.toRadians();i=i.toRadians();var e=Math.sin(u/2)*Math.sin(u/2)+Math.cos(n)*Math.cos(i)*Math.sin(f/2)*Math.sin(f/2),o=2*Math.atan2(Math.sqrt(e),Math.sqrt(1-e));return 6371*o},bb_geo_updateLocaltion:function(t,i=0,r=0,u,f){var e=t.coords.latitude,o=t.coords.longitude,a=t.coords.accuracy,s=t.coords.altitude,h=t.coords.altitudeAccuracy,c=t.coords.heading,l=t.coords.speed,v=t.timestamp;return a>=500&&console.warn("Need more accurate values to calculate distance."),u!=null&&f!=null&&(i=n.bb_geo_distance(e,o,u,f),r+=i),u=e,f=o,s==null&&(s=0),h==null&&(h=0),c==null&&(c=0),l==null&&(l=0),{latitude:e,longitude:o,accuracy:a,altitude:s,altitudeAccuracy:h,heading:c,speed:l,timestamp:v,currentDistance:i,totalDistance:r,lastLat:u,lastLong:f}},bb_geo_handleLocationError:function(n){switch(n.code){case 0:console.error("There was an error while retrieving your location: "+n.message);break;case 1:console.error("The user prevented this page from retrieving a location.");break;case 2:console.error("The browser was unable to determine your location: "+n.message);break;case 3:console.error("The browser timed out before retrieving the location.")}},bb_geo_getCurrnetPosition:function(t,i){var r=!1;return navigator.geolocation?(r=!0,navigator.geolocation.getCurrentPosition(r=>{var u=n.bb_geo_updateLocaltion(r);t.invokeMethodAsync(i,u)},n.bb_geo_handleLocationError)):console.warn("HTML5 Geolocation is not supported in your browser"),r},bb_geo_watchPosition:function(t,i){var r=0,u=0,f=0,e,o;return navigator.geolocation?r=navigator.geolocation.watchPosition(r=>{var s=n.bb_geo_updateLocaltion(r,u,f,e,o);u=s.currentDistance;f=s.totalDistance;e=s.lastLat;o=s.lastLong;t.invokeMethodAsync(i,s)},n.bb_geo_handleLocationError,{maximumAge:2e4}):console.warn("HTML5 Geolocation is not supported in your browser"),r},bb_geo_clearWatchLocation:function(n){var t=!1;return navigator.geolocation&&(t=!0,navigator.geolocation.clearWatch(n)),t}})}(jQuery),function(n){n.extend({bb_handwritten:function(n,t,i,r){function u(n){var i,f,e;this.linewidth=1;this.color="#000000";this.background="#fff";for(i in n)this[i]=n[i];this.canvas=document.createElement("canvas");this.el.appendChild(this.canvas);this.cxt=this.canvas.getContext("2d");this.canvas.clientTop=this.el.clientWidth;this.canvas.width=this.el.clientWidth;this.canvas.height=this.el.clientHeight;this.cxt.fillStyle=this.background;this.cxt.fillRect(2,2,this.canvas.width,this.canvas.height);this.cxt.fillStyle=this.background;this.cxt.strokeStyle=this.color;this.cxt.lineWidth=this.linewidth;this.cxt.lineCap="round";var t="ontouchend"in window,s=this,u=!1,o=function(n){u=!0;this.cxt.beginPath();var i=n.target.offsetParent.offsetLeft,r=n.target.offsetParent.offsetTop;t?this.cxt.moveTo(n.changedTouches[0].pageX+2-i,n.changedTouches[0].pageY+2-r):this.cxt.moveTo(n.pageX+2-i,n.pageY+2-r)};t?this.canvas.addEventListener("touchstart",o.bind(this),!1):this.canvas.addEventListener("mousedown",o.bind(this),!1);f=function(n){if(u){var i=n.target.offsetParent.offsetLeft,r=n.target.offsetParent.offsetTop;t?this.cxt.lineTo(n.changedTouches[0].pageX+2-i,n.changedTouches[0].pageY+2-r):this.cxt.lineTo(n.pageX+2-i,n.pageY+2-r);this.cxt.stroke()}};t?this.canvas.addEventListener("touchmove",f.bind(this),!1):this.canvas.addEventListener("mousedown",f.bind(this),!1);e=function(){u=!1;this.cxt.closePath()};t?this.canvas.addEventListener("touchend",e.bind(this),!1):this.canvas.addEventListener("mousedown",e.bind(this),!1);this.clearEl.addEventListener("click",function(){this.cxt.clearRect(2,2,this.canvas.width,this.canvas.height)}.bind(this),!1);this.saveEl.addEventListener("click",function(){var n=this.canvas.toDataURL();return this.obj.invokeMethodAsync(r,n)}.bind(this),!1)}document.body.addEventListener("touchmove",function(n){n.preventDefault()},{passive:!1});new u({el:n.getElementsByClassName("hw-body")[0],clearEl:n.getElementsByClassName("btn-secondary")[0],saveEl:n.getElementsByClassName("btn-primary")[0],obj:t})}})}(jQuery),function(n){n.extend({bb_printview:function(t){var f=n(t),i=f.parentsUntil(".modal-content").parent().find(".modal-body");if(i.length>0){i.find(":text, :checkbox, :radio").each(function(t,i){var r=n(i),u=r.attr("id");u||r.attr("id",n.getUID())});var e=i.html(),r=n("body").addClass("bb-printview-open"),u=n("<div><\/div>").addClass("bb-printview").html(e).appendTo(r);u.find(":input").each(function(t,i){var r=n(i),u=r.attr("id");r.attr("type")==="checkbox"?r.prop("checked",n("#"+u).prop("checked")):r.val(n("#"+u).val())});window.setTimeout(function(){window.print();r.removeClass("bb-printview-open");u.remove()},50)}else window.setTimeout(function(){window.print()},50)}})}(jQuery),function(n){n.extend({bb_slider:function(t,i,r){var f=n(t),h=f.find(".disabled").length>0;if(!h){var e=0,o=0,u=0,s=f.innerWidth();f.find(".slider-button-wrapper").drag(function(n){s=f.innerWidth();e=n.clientX||n.touches[0].clientX;o=parseInt(f.attr("aria-valuetext"));f.find(".slider-button-wrapper, .slider-button").addClass("dragging")},function(n){var t=n.clientX||n.changedTouches[0].clientX;u=Math.ceil((t-e)*100/s)+o;isNaN(u)&&(u=0);u<=0&&(u=0);u>=100&&(u=100);f.find(".slider-bar").css({width:u.toString()+"%"});f.find(".slider-button-wrapper").css({left:u.toString()+"%"});f.attr("aria-valuetext",u.toString());i.invokeMethodAsync(r,u)},function(){f.find(".slider-button-wrapper, .slider-button").removeClass("dragging");i.invokeMethodAsync(r,u)})}}})}(jQuery);